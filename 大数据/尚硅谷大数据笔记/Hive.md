[TOC]

# 第一节、Hive 基本概念

## 1. 什么是Hive

>   Hive 是基于Hadoop的一种**数据仓库工具**，能**将结构化的数据文件映射为一张表**，并提供**类SQL**的**查询**功能
>
>   **本质就是将HQL转化为MapReduce程序，我们大部分的任务就是写HQL**

**学习Hive的时候时刻想成MapReduce！！！**

## 2. Hive的优缺点

### 优点

1.  采用类SQL语法，简单容易上手
2.  避免学习MR，减少学习成本
3.  延时执行高，擅长离线计算常用于数据分析
4.  延时执行高，所以擅长处理大数据，对小数据没有优势
5.  可自定义函数

### 缺点

1.  表达能力有限
    -   迭代计算无法表达
    -   数据挖掘方面不擅长
2.  效率较低
    -   生成的MapReduce不够智能
    -   调优较为困难，粒度较粗

## 3. Hive的架构原理

![image-20200617154011484](D:/Program Files/Typora/upload/image-20200617154011484.png)

## 4. Hive和数据库的区别比较

|          | 数据库                                                       | Hive                                                         |
| -------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| 存储位置 | 块设备或者本地文件系统                                       | HDFS                                                         |
| 数据更新 | 经常修改                                                     | 读多写少，不建议修改数据                                     |
| 索引     | 针对列建立索引可以对于少量的特定条件数据访问具有非常高的效率 | 不能建立索引，加载数据时不会对数据进行任何处理，查询时会暴力扫描整个数据 |
| 执行     | 通常有自己的执行引擎                                         | 通过Hadoop提供的MapReduce来执行                              |
| 执行延迟 | 仅数据少时延迟低                                             | 无论数据多少延迟都高                                         |
| 扩展性   | 因ACID语义限制，Oracle数据最多只有100台                      | 数据存于HDFS，所以扩展性与HDFS一致，2009年雅虎最多达时到4000个节点左右 |
| 数据规模 | 规模较小                                                     | 可以利用MapReduce进行并行计算，所以支持很大的规模数据        |

# 第二节、Hive的安装和配置

## 一、下载Hive